\usepackage{listings}
\usepackage{color}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\lstnewenvironment{CodeBlock}[2][0]{
    \lstset{frame=tb,
    language=#2,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny,
    keywordstyle=\color{deepblue},
    commentstyle=\color{},
    stringstyle=\color{mauve},
    emph={calcAzimuth},
    emphstyle=\color{mauve},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3,
    firstnumber=#1
    }
} {
}

\definecolor{backgroundgray}{rgb}{0.8,0.8,0.8}

\newcommand\InlineCodeBlock[2][Bash] {\lstset{frame=tb,
    language=#1,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny,
    keywordstyle=\color{deepblue},
    commentstyle=\color{},
    stringstyle=\color{mauve},
    emph={calcAzimuth},
    emphstyle=\color{mauve},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
    }
    \colorbox{backgroundgray}{\lstinline|#2|}
}
